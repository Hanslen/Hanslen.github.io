<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Jiahe Chen&#39;s personal blog">
    

    <!--Author-->
    
        <meta name="author" content="Jiahe Chen (Hanslen)">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Algorithm revision"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="Jiahe Chen&#39;s personal blog" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Jiahe Chen"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>Algorithm revision - Jiahe Chen</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-101661435-1', 'auto');
        ga('send', 'pageview');

    </script>



    <!-- favicon -->
    
    <link rel="icon" href="img/icon.jpg">
    
	
</head>


<body>
    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Hanslen</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags">
                            
                                Tags
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/2015/12/18/Hanslen-says-Hi-to-you-XD/">
                            
                                About me
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/Hanslen">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('mysql-1024x320.png')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Algorithm revision</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            2017-11-11
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/tags/algorithm/">#algorithm</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h1 id="K-Empty-Slots-683"><a href="#K-Empty-Slots-683" class="headerlink" title="K Empty Slots(683)"></a>K Empty Slots(683)</h1><p>There is a garden with <code>N</code> slots. In each slot, there is a flower. The <code>N</code> flowers will bloom one by one in <code>N</code> days. In each day, there will be <code>exactly</code> one flower blooming and it will be in the status of blooming since then.</p>
<p>Given an array <code>flowers</code> consists of number from <code>1</code> to <code>N</code>. Each number in the array represents the place where the flower will open in that day.</p>
<p>For example, <code>flowers[i] = x</code> means that the unique flower that blooms at day <code>i</code> will be at position <code>x</code>, where <code>i</code> and <code>x</code> will be in the range from <code>1</code> to <code>N</code>.</p>
<p>Also given an integer <code>k</code>, you need to output in which day there exists two flowers in the status of blooming, and also the number of flowers between them is <code>k</code> and these flowers are not blooming.</p>
<p>If there isn’t such day, output -1.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Input: </div><div class="line">flowers: [1,3,2]</div><div class="line">k: 1</div><div class="line">Output: 2</div><div class="line">Explanation: In the second day, the first and the third flower have become blooming.</div></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: </div><div class="line">flowers: [1,2,3]</div><div class="line">k: 1</div><div class="line">Output: -1</div></pre></td></tr></table></figure>
<p>Solution:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kEmptySlots</span><span class="params">(<span class="keyword">int</span>[] flowers, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        TreeSet&lt;Integer&gt; ts = <span class="keyword">new</span> TreeSet&lt;Integer&gt;();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; flowers.length; i++)&#123;</div><div class="line">            ts.add(flowers[i]);</div><div class="line">            Integer a = ts.lower(flowers[i]);</div><div class="line">            Integer b = ts.higher(flowers[i]);</div><div class="line">            <span class="keyword">if</span>((a != <span class="keyword">null</span> &amp;&amp; flowers[i]-a-<span class="number">1</span> ==k) || (b != <span class="keyword">null</span> &amp;&amp; b-flowers[i]-<span class="number">1</span> == k))&#123;</div><div class="line">                <span class="keyword">return</span> i+<span class="number">1</span>;<span class="comment">//Attention: There is no zero day</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Longest-Substring-with-At-Most-K-Distinct-Characters-340"><a href="#Longest-Substring-with-At-Most-K-Distinct-Characters-340" class="headerlink" title="Longest Substring with At Most K Distinct Characters(340)"></a>Longest Substring with At Most K Distinct Characters(340)</h1><p>Given a string, find the length of the longest substring T that contains at most <em>k</em> distinct characters.</p>
<p>For example, Given s = <code>“eceba”</code> and k = 2,</p>
<p>T is “ece” which its length is 3.</p>
<p>This problem can be solved by sliding window.</p>
<p>Solution:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringKDistinct</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span>[] hash = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</div><div class="line">        <span class="keyword">int</span> num = <span class="number">0</span>,left=<span class="number">0</span>,ans =<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++)&#123;</div><div class="line">            <span class="keyword">if</span>(hash[s.charAt(i)]++ == <span class="number">0</span>)&#123;</div><div class="line">                num += <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(num &gt; k)&#123;</div><div class="line">                <span class="keyword">while</span>(--hash[s.charAt(left++)] &gt; <span class="number">0</span>);</div><div class="line">                num -= <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            ans = Math.max(ans, i-left+<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Sentence-Screen-Fitting-418"><a href="#Sentence-Screen-Fitting-418" class="headerlink" title="Sentence Screen Fitting(418)"></a>Sentence Screen Fitting(418)</h1><p>Given a <code>rows x cols</code> screen and a sentence represented by a list of <strong>non-empty</strong> words, find <strong>how many times</strong> the given sentence can be fitted on the screen.</p>
<p><strong>Note:</strong></p>
<ol>
<li>A word cannot be split into two lines.</li>
<li>The order of words in the sentence must remain unchanged.</li>
<li>Two consecutive words <strong>in a line</strong> must be separated by a single space.</li>
<li>Total words in the sentence won’t exceed 100.</li>
<li>Length of each word is greater than 0 and won’t exceed 10.</li>
<li>1 ≤ rows, cols ≤ 20,000.</li>
</ol>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line">rows = 2, cols = 8, sentence = [&quot;hello&quot;, &quot;world&quot;]</div><div class="line"></div><div class="line">Output: </div><div class="line">1</div><div class="line"></div><div class="line">Explanation:</div><div class="line">hello---</div><div class="line">world---</div><div class="line"></div><div class="line">The character &apos;-&apos; signifies an empty space on the screen.</div></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line">rows = 3, cols = 6, sentence = [&quot;a&quot;, &quot;bcd&quot;, &quot;e&quot;]</div><div class="line"></div><div class="line">Output: </div><div class="line">2</div><div class="line"></div><div class="line">Explanation:</div><div class="line">a-bcd- </div><div class="line">e-a---</div><div class="line">bcd-e-</div><div class="line"></div><div class="line">The character &apos;-&apos; signifies an empty space on the screen.</div></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line">rows = 4, cols = 5, sentence = [&quot;I&quot;, &quot;had&quot;, &quot;apple&quot;, &quot;pie&quot;]</div><div class="line"></div><div class="line">Output: </div><div class="line">1</div><div class="line"></div><div class="line">Explanation:</div><div class="line">I-had</div><div class="line">apple</div><div class="line">pie-I</div><div class="line">had--</div><div class="line"></div><div class="line">The character &apos;-&apos; signifies an empty space on the screen.</div></pre></td></tr></table></figure>
<p>Solution:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">wordsTyping</span><span class="params">(String[] sentence, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols)</span> </span>&#123;</div><div class="line">        String wholeSen = <span class="string">""</span>;</div><div class="line">        <span class="keyword">for</span>(String s : sentence)&#123;</div><div class="line">            wholeSen = wholeSen + s +<span class="string">" "</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> length = wholeSen.length(), start = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++)&#123;</div><div class="line">            start += cols;</div><div class="line">            <span class="keyword">if</span>(wholeSen.charAt(start%length) == <span class="string">' '</span>)&#123;</div><div class="line">                start += <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                <span class="keyword">while</span>(start &gt; <span class="number">0</span> &amp;&amp; wholeSen.charAt((start-<span class="number">1</span>)%length) != <span class="string">' '</span>)&#123;</div><div class="line">                    start -= <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        System.out.println(start);</div><div class="line">        <span class="keyword">return</span> start/length;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Zigzag-Iterator-281-follow-up-what-if-are-given-k-1d-vectors"><a href="#Zigzag-Iterator-281-follow-up-what-if-are-given-k-1d-vectors" class="headerlink" title="Zigzag Iterator(281, follow up: what if are given k 1d vectors)"></a>Zigzag Iterator(281, follow up: what if are given k 1d vectors)</h1><p>Given two 1d vectors, implement an iterator to return their elements alternately.</p>
<p>For example, given two 1d vectors:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">v1 = [1, 2]</div><div class="line">v2 = [3, 4, 5, 6]</div></pre></td></tr></table></figure>
<p>By calling <em>next</em> repeatedly until <em>hasNext</em> returns <code>false</code>, the order of elements returned by <em>next</em> should be: <code>[1, 3, 2, 4, 5, 6]</code>.</p>
<p><strong>Follow up</strong>: What if you are given <code>k</code> 1d vectors? How well can your code be extended to such cases?</p>
<p><strong>Clarification for the follow up question - Update (2015-09-18):</strong><br>The “Zigzag” order is not clearly defined and is ambiguous for <code>k &gt; 2</code> cases. If “Zigzag” does not look right to you, replace “Zigzag” with “Cyclic”. For example, given the following input:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[1,2,3]</div><div class="line">[4,5,6,7]</div><div class="line">[8,9]</div></pre></td></tr></table></figure>
<p>It should return </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[1,4,8,2,5,9,3,6,7]</div></pre></td></tr></table></figure>
<p>This is the follow up solution:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ZigzagIterator</span> </span>&#123;</div><div class="line">	LinkedList&lt;Iterator&lt;Integer&gt;&gt; list;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ZigzagIterator</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; input)</span> </span>&#123;</div><div class="line">        list = <span class="keyword">new</span> LinkedList&lt;Iterator&lt;Integer&gt;&gt;();</div><div class="line">        <span class="keyword">for</span>(List&lt;Integer&gt; ls : input) &#123;</div><div class="line">        		<span class="keyword">if</span>(!ls.isEmpty()) &#123;</div><div class="line">        			list.add(ls.iterator());</div><div class="line">        		&#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</div><div class="line">        Iterator&lt;Integer&gt; poll = list.remove();</div><div class="line">        <span class="keyword">int</span> result = (Integer)poll.next();</div><div class="line">        <span class="keyword">if</span>(poll.hasNext()) list.add(poll);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> !list.isEmpty();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Word-Squares-425-A-good-example-of-Trie"><a href="#Word-Squares-425-A-good-example-of-Trie" class="headerlink" title="Word Squares(425) (A good example of Trie)"></a>Word Squares(425) (A good example of Trie)</h1><p>Given a set of words <strong>(without duplicates)</strong>, find all <a href="https://en.wikipedia.org/wiki/Word_square" target="_blank" rel="external">word squares</a> you can build from them.</p>
<p>A sequence of words forms a valid word square if the <em>k</em>th row and column read the exact same string, where 0 ≤ <em>k</em> &lt; max(numRows, numColumns).</p>
<p>For example, the word sequence <code>[&quot;ball&quot;,&quot;area&quot;,&quot;lead&quot;,&quot;lady&quot;]</code> forms a word square because each word reads the same both horizontally and vertically.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">b a l l</div><div class="line">a r e a</div><div class="line">l e a d</div><div class="line">l a d y</div></pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ol>
<li>There are at least 1 and at most 1000 words.</li>
<li>All words will have the exact same length.</li>
<li>Word length is at least 1 and at most 5.</li>
<li>Each word contains only lowercase English alphabet <code>a-z</code>.</li>
</ol>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line">[&quot;area&quot;,&quot;lead&quot;,&quot;wall&quot;,&quot;lady&quot;,&quot;ball&quot;]</div><div class="line"></div><div class="line">Output:</div><div class="line">[</div><div class="line">  [ &quot;wall&quot;,</div><div class="line">    &quot;area&quot;,</div><div class="line">    &quot;lead&quot;,</div><div class="line">    &quot;lady&quot;</div><div class="line">  ],</div><div class="line">  [ &quot;ball&quot;,</div><div class="line">    &quot;area&quot;,</div><div class="line">    &quot;lead&quot;,</div><div class="line">    &quot;lady&quot;</div><div class="line">  ]</div><div class="line">]</div><div class="line"></div><div class="line">Explanation:</div><div class="line">The output consists of two word squares. The order of output does not matter (just the order of words in each word square matters).</div></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line">[&quot;abat&quot;,&quot;baba&quot;,&quot;atan&quot;,&quot;atal&quot;]</div><div class="line"></div><div class="line">Output:</div><div class="line">[</div><div class="line">  [ &quot;baba&quot;,</div><div class="line">    &quot;abat&quot;,</div><div class="line">    &quot;baba&quot;,</div><div class="line">    &quot;atan&quot;</div><div class="line">  ],</div><div class="line">  [ &quot;baba&quot;,</div><div class="line">    &quot;abat&quot;,</div><div class="line">    &quot;baba&quot;,</div><div class="line">    &quot;atal&quot;</div><div class="line">  ]</div><div class="line">]</div><div class="line"></div><div class="line">Explanation:</div><div class="line">The output consists of two word squares. The order of output does not matter (just the order of words in each word square matters).</div></pre></td></tr></table></figure>
<p>Solution:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</div><div class="line">        List&lt;String&gt; startWith;</div><div class="line">        TrieNode[] children;</div><div class="line"></div><div class="line">        TrieNode() &#123;</div><div class="line">            startWith = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">            children = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Trie</span></span>&#123;</div><div class="line">        TrieNode root;</div><div class="line"></div><div class="line">        Trie(String[] words) &#123;</div><div class="line">            root = <span class="keyword">new</span> TrieNode();</div><div class="line">            <span class="keyword">for</span> (String w : words) &#123;</div><div class="line">                TrieNode cur = root;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">char</span> ch : w.toCharArray()) &#123;</div><div class="line">                    <span class="keyword">int</span> idx = ch - <span class="string">'a'</span>;</div><div class="line">                    <span class="keyword">if</span> (cur.children[idx] == <span class="keyword">null</span>)</div><div class="line">                        cur.children[idx] = <span class="keyword">new</span> TrieNode();</div><div class="line">                    cur.children[idx].startWith.add(w);</div><div class="line">                    cur = cur.children[idx];</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">            <span class="function">List&lt;String&gt; <span class="title">findByPrefix</span><span class="params">(String prefix)</span></span>&#123;</div><div class="line">                List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">                TrieNode curr = root;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">char</span> ch:prefix.toCharArray())&#123;</div><div class="line">                    <span class="keyword">int</span> idx = ch-<span class="string">'a'</span>;</div><div class="line">                    <span class="keyword">if</span>(curr.children[idx] == <span class="keyword">null</span>)&#123;</div><div class="line">                        <span class="keyword">return</span> ans;</div><div class="line">                    &#125;</div><div class="line">                    curr = curr.children[idx];</div><div class="line">                &#125;</div><div class="line">                ans.addAll(curr.startWith);</div><div class="line">                <span class="keyword">return</span> ans;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; wordSquares(String[] words) &#123;</div><div class="line">        List&lt;List&lt;String&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span>(words.length == <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> ans;</div><div class="line">        &#125;</div><div class="line">        Trie root = <span class="keyword">new</span> Trie(words);</div><div class="line">        <span class="keyword">int</span> len = words[<span class="number">0</span>].length();</div><div class="line">        List&lt;String&gt; ansBuilder = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        <span class="keyword">for</span>(String w: words)&#123;</div><div class="line">            ansBuilder.add(w);</div><div class="line">            search(len, root, ansBuilder,ans);</div><div class="line">            ansBuilder.remove(ansBuilder.size()-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> length, Trie root, List&lt;String&gt; ansBuilder, List&lt;List&lt;String&gt;&gt; ans)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(length == ansBuilder.size())&#123;</div><div class="line">            ans.add(<span class="keyword">new</span> ArrayList&lt;String&gt;(ansBuilder));</div><div class="line">            <span class="keyword">return</span> ;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> idx = ansBuilder.size();</div><div class="line">        StringBuilder prefix = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">for</span>(String a : ansBuilder)&#123;</div><div class="line">            prefix.append(a.charAt(idx));</div><div class="line">        &#125;</div><div class="line">        List&lt;String&gt; startWith = root.findByPrefix(prefix.toString());</div><div class="line">        <span class="keyword">for</span>(String s:startWith)&#123;</div><div class="line">            ansBuilder.add(s);</div><div class="line">            search(length, root,ansBuilder, ans);</div><div class="line">            ansBuilder.remove(ansBuilder.size()-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Bomb-Enemy-361-Dynamic-Programming"><a href="#Bomb-Enemy-361-Dynamic-Programming" class="headerlink" title="Bomb Enemy (361, Dynamic Programming)"></a>Bomb Enemy (361, Dynamic Programming)</h1><p>Given a 2D grid, each cell is either a wall <code>&#39;W&#39;</code>, an enemy <code>&#39;E&#39;</code> or empty <code>&#39;0&#39;</code> (the number zero), return the maximum enemies you can kill using one bomb.<br>The bomb kills all the enemies in the same row and column from the planted point until it hits the wall since the wall is too strong to be destroyed.<br>Note that you can only put the bomb at an empty cell.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">For the given grid</div><div class="line"></div><div class="line">0 E 0 0</div><div class="line">E 0 W E</div><div class="line">0 E 0 0</div><div class="line"></div><div class="line">return 3. (Placing a bomb at (1,1) kills 3 enemies)</div></pre></td></tr></table></figure>
<p>Solution:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxKilledEnemies</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> m = grid.length;</div><div class="line">        <span class="keyword">if</span>(m == <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> n = grid[<span class="number">0</span>].length, row = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span>[] col = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</div><div class="line">                <span class="keyword">if</span>(i == <span class="number">0</span> || grid[i-<span class="number">1</span>][j] == <span class="string">'W'</span>)&#123;</div><div class="line">                    col[j] = <span class="number">0</span>;</div><div class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> k = i; k &lt; m &amp;&amp; grid[k][j] != <span class="string">'W'</span>; k++)&#123;</div><div class="line">                        <span class="keyword">if</span>(grid[k][j] == <span class="string">'E'</span>)&#123;</div><div class="line">                            col[j] += <span class="number">1</span>;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(j == <span class="number">0</span>||grid[i][j-<span class="number">1</span>] == <span class="string">'W'</span>)&#123;</div><div class="line">                    row = <span class="number">0</span>;</div><div class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> k = j; k &lt; n &amp;&amp; grid[i][k] != <span class="string">'W'</span>; k++)&#123;</div><div class="line">                        <span class="keyword">if</span>(grid[i][k] == <span class="string">'E'</span>)&#123;</div><div class="line">                            row += <span class="number">1</span>;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(grid[i][j] == <span class="string">'0'</span>)&#123;</div><div class="line">                    ans = Math.max(ans,row+col[j]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Wiggle-Sort-280"><a href="#Wiggle-Sort-280" class="headerlink" title="Wiggle Sort(280)"></a>Wiggle Sort(280)</h1><p>Given an unsorted array <code>nums</code>, reorder it <strong>in-place</strong> such that <code>nums[0] &lt;= nums[1] &gt;= nums[2] &lt;= nums[3]...</code>.</p>
<p>For example, given <code>nums = [3, 5, 2, 1, 6, 4]</code>, one possible answer is <code>[1, 6, 2, 5, 3, 4]</code>.</p>
<p>Solution:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">wiggleSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">boolean</span> less = <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length-<span class="number">1</span>;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(less)&#123;</div><div class="line">                <span class="keyword">if</span>(nums[i] &gt; nums[i+<span class="number">1</span>])&#123;</div><div class="line">                    swap(nums, i, i+<span class="number">1</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                <span class="keyword">if</span>(nums[i] &lt; nums[i+<span class="number">1</span>])&#123;</div><div class="line">                    swap(nums, i, i+<span class="number">1</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            less = !less;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> tmp = nums[i];</div><div class="line">        nums[i] = nums[j];</div><div class="line">        nums[j] = tmp;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Maximum-Vacation-Days（568）"><a href="#Maximum-Vacation-Days（568）" class="headerlink" title="Maximum Vacation Days（568）"></a>Maximum Vacation Days（568）</h1><p>LeetCode wants to give one of its best employees the option to travel among <strong>N</strong> cities to collect algorithm problems. But all work and no play makes Jack a dull boy, you could take vacations in some particular cities and weeks. Your job is to schedule the traveling to maximize the number of vacation days you could take, but there are certain rules and restrictions you need to follow.</p>
<p><strong>Rules and restrictions:</strong></p>
<ol>
<li>You can only travel among <strong>N</strong> cities, represented by indexes from 0 to N-1. Initially, you are in the city indexed 0 on <strong>Monday</strong>.</li>
<li>The cities are connected by flights. The flights are represented as a <strong>N*N</strong> matrix (not necessary symmetrical), called <strong>flights</strong>representing the airline status from the city i to the city j. If there is no flight from the city i to the city j, <strong>flights[i][j] = 0</strong>; Otherwise, <strong>flights[i][j] = 1</strong>. Also, <strong>flights[i][i] = 0</strong> for all i.</li>
<li>You totally have <strong>K</strong> weeks (<strong>each week has 7 days</strong>) to travel. You can only take flights at most once <strong>per day</strong> and can only take flights on each week’s <strong>Monday</strong> morning. Since flight time is so short, we don’t consider the impact of flight time.</li>
<li>For each city, you can only have restricted vacation days in different weeks, given an <strong>N*K</strong> matrix called <strong>days</strong> representing this relationship. For the value of <strong>days[i][j]</strong>, it represents the maximum days you could take vacation in the city <strong>i</strong> in the week <strong>j</strong>.</li>
</ol>
<p>You’re given the <strong>flights</strong> matrix and <strong>days</strong> matrix, and you need to output the maximum vacation days you could take during <strong>K</strong> weeks.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Input:flights = [[0,1,1],[1,0,1],[1,1,0]], days = [[1,3,1],[6,0,3],[3,3,3]]</div><div class="line">Output: 12</div><div class="line">Explanation: </div><div class="line">Ans = 6 + 3 + 3 = 12. </div><div class="line"></div><div class="line">One of the best strategies is:</div><div class="line">1st week : fly from city 0 to city 1 on Monday, and play 6 days and work 1 day. </div><div class="line">(Although you start at city 0, we could also fly to and start at other cities since it is Monday.) </div><div class="line">2nd week : fly from city 1 to city 2 on Monday, and play 3 days and work 4 days.</div><div class="line">3rd week : stay at city 2, and play 3 days and work 4 days.</div></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Input:flights = [[0,0,0],[0,0,0],[0,0,0]], days = [[1,1,1],[7,7,7],[7,7,7]]</div><div class="line">Output: 3</div><div class="line">Explanation: </div><div class="line">Ans = 1 + 1 + 1 = 3. </div><div class="line"></div><div class="line">Since there is no flights enable you to move to another city, you have to stay at city 0 for the whole 3 weeks. </div><div class="line">For each week, you only have one day to play and six days to work. </div><div class="line">So the maximum number of vacation days is 3.</div></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Input:flights = [[0,1,1],[1,0,1],[1,1,0]], days = [[7,0,0],[0,7,0],[0,0,7]]</div><div class="line">Output: 21</div><div class="line">Explanation:</div><div class="line">Ans = 7 + 7 + 7 = 21</div><div class="line"></div><div class="line">One of the best strategies is:</div><div class="line">1st week : stay at city 0, and play 7 days. </div><div class="line">2nd week : fly from city 0 to city 1 on Monday, and play 7 days.</div><div class="line">3rd week : fly from city 1 to city 2 on Monday, and play 7 days.</div></pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ol>
<li><p><strong>N and K</strong> are positive integers, which are in the range of [1, 100].</p>
</li>
<li><p>In the matrix <strong>flights</strong>, all the values are integers in the range of [0, 1].</p>
</li>
<li><p>In the matrix <strong>days</strong>, all the values are integers in the range [0, 7].</p>
</li>
<li><p>You could stay at a city beyond the number of vacation days, but you should <strong>work</strong> on the extra days, which won’t be counted as vacation days.</p>
</li>
<li><p>If you fly from the city A to the city B and take the vacation on that day, the deduction towards vacation days will count towards the vacation days of city B in that week.</p>
</li>
<li><p>We don’t consider the impact of flight hours towards the calculation of vacation days.</p>
<p>Solution:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] flights, <span class="keyword">int</span>[][] days, <span class="keyword">int</span> city, <span class="keyword">int</span> week, <span class="keyword">int</span>[][] dp)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(week == days[<span class="number">0</span>].length)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(dp[city][week] != -<span class="number">1</span>)&#123;</div><div class="line">            <span class="keyword">return</span> dp[city][week];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> max = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; flights.length;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(flights[city][i] == <span class="number">1</span> || i == city)&#123;</div><div class="line">                max = Math.max(max, dfs(flights, days, i, week+<span class="number">1</span>,dp)+days[i][week]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        dp[city][week] = max;</div><div class="line">        <span class="keyword">return</span> max;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxVacationDays</span><span class="params">(<span class="keyword">int</span>[][] flights, <span class="keyword">int</span>[][] days)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[flights.length][days[<span class="number">0</span>].length];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>[] i : dp)&#123;</div><div class="line">            Arrays.fill(i, -<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> dfs(flights,days,<span class="number">0</span>,<span class="number">0</span>,dp);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="Design-Hit-Counter-362"><a href="#Design-Hit-Counter-362" class="headerlink" title="Design Hit Counter(362)"></a>Design Hit Counter(362)</h1><p>Design a hit counter which counts the number of hits received in the past 5 minutes.</p>
<p>Each function accepts a timestamp parameter (in seconds granularity) and you may assume that calls are being made to the system in chronological order (ie, the timestamp is monotonically increasing). You may assume that the earliest timestamp starts at 1.</p>
<p>It is possible that several hits arrive roughly at the same time.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">HitCounter counter = new HitCounter();</div><div class="line"></div><div class="line">// hit at timestamp 1.</div><div class="line">counter.hit(1);</div><div class="line"></div><div class="line">// hit at timestamp 2.</div><div class="line">counter.hit(2);</div><div class="line"></div><div class="line">// hit at timestamp 3.</div><div class="line">counter.hit(3);</div><div class="line"></div><div class="line">// get hits at timestamp 4, should return 3.</div><div class="line">counter.getHits(4);</div><div class="line"></div><div class="line">// hit at timestamp 300.</div><div class="line">counter.hit(300);</div><div class="line"></div><div class="line">// get hits at timestamp 300, should return 4.</div><div class="line">counter.getHits(300);</div><div class="line"></div><div class="line">// get hits at timestamp 301, should return 3.</div><div class="line">counter.getHits(301);</div></pre></td></tr></table></figure>
<p><strong>Follow up:</strong><br>What if the number of hits per second could be very large? Does your design scale?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HitCounter</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span>[] time;</div><div class="line">    <span class="keyword">int</span>[] click;</div><div class="line">    <span class="comment">/** Initialize your data structure here. */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HitCounter</span><span class="params">()</span> </span>&#123;</div><div class="line">        time = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">300</span>];</div><div class="line">        click = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">300</span>];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Record a hit.</span></div><div class="line">        <span class="doctag">@param</span> timestamp - The current timestamp (in seconds granularity). */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hit</span><span class="params">(<span class="keyword">int</span> timestamp)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> index = timestamp%<span class="number">300</span>;</div><div class="line">        <span class="keyword">if</span>(time[index] == timestamp)&#123;</div><div class="line">            click[index] += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            time[index] = timestamp;</div><div class="line">            click[index] = <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Return the number of hits in the past 5 minutes.</span></div><div class="line">        <span class="doctag">@param</span> timestamp - The current timestamp (in seconds granularity). */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHits</span><span class="params">(<span class="keyword">int</span> timestamp)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">300</span>; i++)&#123;</div><div class="line">            <span class="keyword">if</span>(timestamp - time[i] &lt; <span class="number">300</span>)&#123;</div><div class="line">                ans += click[i];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Your HitCounter object will be instantiated and called as such:</div><div class="line"> * HitCounter obj = new HitCounter();</div><div class="line"> * obj.hit(timestamp);</div><div class="line"> * int param_2 = obj.getHits(timestamp);</div><div class="line"> */</div></pre></td></tr></table></figure>
<h1 id="Word-Pattern-II-291"><a href="#Word-Pattern-II-291" class="headerlink" title="Word Pattern II(291)"></a>Word Pattern II(291)</h1><p>Given a <code>pattern</code> and a string <code>str</code>, find if <code>str</code> follows the same pattern.</p>
<p>Here <strong>follow</strong> means a full match, such that there is a bijection between a letter in <code>pattern</code> and a <strong>non-empty</strong> substring in <code>str</code>.</p>
<p><strong>Examples:</strong></p>
<ol>
<li>pattern = <code>&quot;abab&quot;</code>, str = <code>&quot;redblueredblue&quot;</code> should return true.</li>
<li>pattern = <code>&quot;aaaa&quot;</code>, str = <code>&quot;asdasdasdasd&quot;</code> should return true.</li>
<li>pattern = <code>&quot;aabb&quot;</code>, str = <code>&quot;xyzabcxzyabc&quot;</code> should return false.</li>
</ol>
<p><strong>Notes:</strong><br>You may assume both <code>pattern</code> and <code>str</code> contains only lowercase letters.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">wordPatternMatch</span><span class="params">(String pattern, String str)</span> </span>&#123;</div><div class="line">        HashMap&lt;Character, String&gt; hm = <span class="keyword">new</span> HashMap&lt;Character, String&gt;();</div><div class="line">        HashSet&lt;String&gt; hs = <span class="keyword">new</span> HashSet&lt;String&gt;();</div><div class="line">        <span class="keyword">return</span> isMatch(str, <span class="number">0</span>, pattern, <span class="number">0</span>, hm, hs);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String str, <span class="keyword">int</span> i, String pattern, <span class="keyword">int</span> j, HashMap&lt;Character, String&gt; hm, HashSet&lt;String&gt; hs)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(str.length() == i &amp;&amp; pattern.length() ==j)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(str.length() == i || pattern.length() == j)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">char</span> c = pattern.charAt(j);</div><div class="line">        <span class="keyword">if</span>(hm.containsKey(c))&#123;</div><div class="line">            String s = hm.get(c);</div><div class="line">            <span class="keyword">if</span>(!str.startsWith(s,i))&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> isMatch(str,i+s.length(),pattern, j+<span class="number">1</span>,hm,hs);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = i; k &lt; str.length(); k++)&#123;</div><div class="line">            String s = str.substring(i, k+<span class="number">1</span>);</div><div class="line">            <span class="keyword">if</span>(hs.contains(s))&#123;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            hm.put(c,s);</div><div class="line">            hs.add(s);</div><div class="line">            <span class="keyword">if</span>(isMatch(str,k+<span class="number">1</span>,pattern,j+<span class="number">1</span>,hm,hs))&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">            hm.remove(c,s);</div><div class="line">            hs.remove(s);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    
    <hr />
    <h3>Comments:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    
                        <li>
                            <a href="https://www.facebook.com/chen.hanslen" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://github.com/Hanslen" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://www.linkedin.com/in/jiahe-chen-hanslen/" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2017 Jiahe Chen (Hanslen)<br>

                <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <span id="busuanzi_container_site_pv">Website's traffic: <span id="busuanzi_value_site_pv"></span> times</span>
            
                </p>
                <!--
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
                -->
            </div>
        </div>
    </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101661435-1', 'auto');
  ga('send', 'pageview');

</script>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'jiaheblog';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


</body>

</html>